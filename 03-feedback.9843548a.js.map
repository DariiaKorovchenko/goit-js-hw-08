{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,QAEpCF,EAAKG,iBAAiB,UA0BtB,SAAsBC,GAEpB,GADAA,EAAMC,iBACFC,EAAY,CACd,IAAK,IAAIC,KAAOD,EACdA,EAAWC,GAAOP,EAAKQ,SAASD,GAAKE,MAEvCC,QAAQC,IAAIL,E,CAEdA,EAAa,CACXM,MAAO,GACPC,QAAS,IAEXC,aAAaC,WA/BU,uBAgCvBX,EAAMY,cAAcC,O,IAtCtBjB,EAAKG,iBAAiB,QAASe,EAAApB,GAAEqB,UAWjC,SAAqBf,GACnBE,EAAWF,EAAMgB,OAAOC,MAAQjB,EAAMgB,OAAOX,MAC7CK,aAAaQ,QAPU,sBAOgBC,KAAKC,UAAUlB,G,GAbD,MAEvD,IAAIA,EAAa,CACfM,MAAO,GACPC,QAAS,IAEX,MACMY,EAAQX,aAAaY,QADF,uBAEnBC,EAAaJ,KAAKK,MAAMH,IAQ9B,WACE,GAAIA,EAAO,CACTnB,EAAaqB,EACb,IAAK,IAAIpB,KAAOD,EACdN,EAAKQ,SAASD,GAAKE,MAAQH,EAAWC,E,EAX5CsB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', onFormSubmit);\nform.addEventListener('input', _.throttle(onFormInput, 500));\n\nlet dataValues = {\n  email: '',\n  message: '',\n};\nconst FORM_STORAGE_KEY = 'feedback-form-state';\nconst value = localStorage.getItem(FORM_STORAGE_KEY);\nconst valuesJSON = JSON.parse(value);\npopulateTextarea();\n\nfunction onFormInput(event) {\n  dataValues[event.target.name] = event.target.value;\n  localStorage.setItem(FORM_STORAGE_KEY, JSON.stringify(dataValues));\n}\n\nfunction populateTextarea() {\n  if (value) {\n    dataValues = valuesJSON;\n    for (let key in dataValues) {\n      form.elements[key].value = dataValues[key];\n    }\n  }\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  if (dataValues) {\n    for (let key in dataValues) {\n      dataValues[key] = form.elements[key].value;\n    }\n    console.log(dataValues);\n  }\n  dataValues = {\n    email: '',\n    message: '',\n  };\n  localStorage.removeItem(FORM_STORAGE_KEY);\n  event.currentTarget.reset();\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","addEventListener","event","preventDefault","$945622fd0f572e60$var$dataValues","key","elements","value","console","log","email","message","localStorage","removeItem","currentTarget","reset","$parcel$interopDefault","throttle","target","name","setItem","JSON","stringify","$945622fd0f572e60$var$value","getItem","$945622fd0f572e60$var$valuesJSON","parse","$945622fd0f572e60$var$populateTextarea"],"version":3,"file":"03-feedback.9843548a.js.map"}