{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,QAEpCF,EAAKG,iBAAiB,UAuBtB,SAAsBC,GAEpB,GADAA,EAAMC,iBACFC,EAAY,CACd,IAAKC,OAAOD,EACVA,EAAWC,KAAOP,EAAKQ,SAASD,KAAKE,MAEvCC,QAAQC,IAAIL,E,CAEdA,EAAa,GACbM,aAAaC,WA5BU,uBA6BvBT,EAAMU,cAAcC,O,IAhCtBf,EAAKG,iBAAiB,QAASa,EAAAlB,GAAEmB,UAQjC,SAAqBb,GACnBE,EAAWF,EAAMc,OAAOC,MAAQf,EAAMc,OAAOT,MAC7CG,aAAaQ,QAPU,sBAOgBC,KAAKC,UAAUhB,G,GAVD,MAEvD,IAAIA,EAAa,GACjB,MACMiB,EAAQX,aAAaY,QADF,uBAEnBC,EAAaJ,KAAKK,MAAMH,IAQ9B,WACE,GAAIA,EAEF,IAAKhB,OADLD,EAAamB,EACDnB,EACVN,EAAKQ,SAASD,KAAKE,MAAQH,EAAWC,I,CAX5CoB","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', onFormSubmit);\nform.addEventListener('input', _.throttle(onFormInput, 500));\n\nlet dataValues = {};\nconst FORM_STORAGE_KEY = 'feedback-form-state';\nconst value = localStorage.getItem(FORM_STORAGE_KEY);\nconst valuesJSON = JSON.parse(value);\npopulateTextarea();\n\nfunction onFormInput(event) {\n  dataValues[event.target.name] = event.target.value;\n  localStorage.setItem(FORM_STORAGE_KEY, JSON.stringify(dataValues));\n}\n\nfunction populateTextarea() {\n  if (value) {\n    dataValues = valuesJSON;\n    for (key in dataValues) {\n      form.elements[key].value = dataValues[key];\n    }\n  }\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  if (dataValues) {\n    for (key in dataValues) {\n      dataValues[key] = form.elements[key].value;\n    }\n    console.log(dataValues);\n  }\n  dataValues = {};\n  localStorage.removeItem(FORM_STORAGE_KEY);\n  event.currentTarget.reset();\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","addEventListener","event","preventDefault","$945622fd0f572e60$var$dataValues","key","elements","value","console","log","localStorage","removeItem","currentTarget","reset","$parcel$interopDefault","throttle","target","name","setItem","JSON","stringify","$945622fd0f572e60$var$value","getItem","$945622fd0f572e60$var$valuesJSON","parse","$945622fd0f572e60$var$populateTextarea"],"version":3,"file":"03-feedback.7d452862.js.map"}