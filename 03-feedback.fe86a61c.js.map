{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,QAEpCF,EAAKG,iBAAiB,UA0BtB,SAAsBC,GAEpB,GADAA,EAAMC,iBACFC,EAAY,CACd,IAAK,IAAIC,KAAOD,EACdA,EAAWC,GAAOP,EAAKQ,SAASD,GAAKE,MAEvCC,QAAQC,IAAIL,E,CAEdA,EAAa,CACXM,MAAO,GACPC,QAAS,IAEXC,aAAaC,WAAWC,GACxBZ,EAAMa,cAAcC,O,IAtCtBlB,EAAKG,iBAAiB,QAASgB,EAAArB,GAAEsB,UAWjC,SAAqBhB,GACnBE,EAAWF,EAAMiB,OAAOC,MAAQlB,EAAMiB,OAAOZ,MAC7CK,aAAaS,QAAQP,EAAkBQ,KAAKC,UAAUnB,G,GAbD,MAEvD,IAAIA,EAAa,CACfM,MAAO,GACPC,QAAS,IAELG,EAAmB,sBACnBU,EAAQZ,aAAaa,QAAQX,GAC7BY,EAAaJ,KAAKK,MAAMH,IAQ9B,WACE,GAAIA,EAEF,IAAK,IAAInB,KADTD,EAAasB,EAEX5B,EAAKQ,SAASD,GAAKE,MAAQH,EAAWC,E,CAX5CuB,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', onFormSubmit);\nform.addEventListener('input', _.throttle(onFormInput, 500));\n\nlet dataValues = {\n  email: '',\n  message: '',\n};\nconst FORM_STORAGE_KEY = 'feedback-form-state';\nconst value = localStorage.getItem(FORM_STORAGE_KEY);\nconst valuesJSON = JSON.parse(value);\npopulateTextarea();\n\nfunction onFormInput(event) {\n  dataValues[event.target.name] = event.target.value;\n  localStorage.setItem(FORM_STORAGE_KEY, JSON.stringify(dataValues));\n}\n\nfunction populateTextarea() {\n  if (value) {\n    dataValues = valuesJSON;\n    for (let key in dataValues) {\n      form.elements[key].value = dataValues[key];\n    }\n  }\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  if (dataValues) {\n    for (let key in dataValues) {\n      dataValues[key] = form.elements[key].value;\n    }\n    console.log(dataValues);\n  }\n  dataValues = {\n    email: '',\n    message: '',\n  };\n  localStorage.removeItem(FORM_STORAGE_KEY);\n  event.currentTarget.reset();\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","addEventListener","event","preventDefault","$b00c40859be242c5$var$dataValues","key","elements","value","console","log","email","message","localStorage","removeItem","$b00c40859be242c5$var$FORM_STORAGE_KEY","currentTarget","reset","$parcel$interopDefault","throttle","target","name","setItem","JSON","stringify","$b00c40859be242c5$var$value","getItem","$b00c40859be242c5$var$valuesJSON","parse","$b00c40859be242c5$var$populateTextarea"],"version":3,"file":"03-feedback.fe86a61c.js.map"}