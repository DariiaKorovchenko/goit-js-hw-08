{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,QAC7BC,MAAOF,SAASC,cAAc,SAC9BE,QAASH,SAASC,cAAc,aAGlCH,EAAKC,KAAKK,iBAAiB,UAgC3B,SAAsBC,GACpBC,QAAQC,IAAIC,GACZH,EAAMI,iBACNJ,EAAMK,cAAcC,QACpBC,aAAaC,WAAWC,E,IAnC1BhB,EAAKI,MAAME,iBAAiB,QAASW,EAAAnB,GAAEoB,UAUvC,SAAsBX,GACpBG,EAAWN,MAAQG,EAAMY,OAAOC,MAChCN,aAAaO,QAAQL,EAAkBM,KAAKC,UAAUb,G,GAZM,MAC9DV,EAAKK,QAAQC,iBAAiB,QAASW,EAAAnB,GAAEoB,UAczC,SAAyBX,GACvBG,EAAWL,QAAUE,EAAMY,OAAOC,MAClCN,aAAaO,QAAQL,EAAkBM,KAAKC,UAAUb,G,GAhBW,MAEnE,IAkBQU,EACAI,EAnBFd,EAAa,CACjBN,MAAO,GACPC,QAAS,IAELW,EAAmB,sBAcjBI,EAAQN,aAAaW,QAAQT,GAC7BQ,EAAaF,KAAKI,MAAMN,GAC1BA,IACFpB,EAAKI,MAAMgB,MAAQI,EAAWpB,MAC9BM,EAAWN,MAAQoB,EAAWpB,MAC9BJ,EAAKK,QAAQe,MAAQI,EAAWnB,QAChCK,EAAWL,QAAUmB,EAAWnB,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from 'lodash';\n\nconst refs = {\n  form: document.querySelector('form'),\n  email: document.querySelector('input'),\n  message: document.querySelector('textarea'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.email.addEventListener('input', _.throttle(onEmailInput, 500));\nrefs.message.addEventListener('input', _.throttle(onTextareaInput, 500));\n\nconst dataValues = {\n  email: '',\n  message: '',\n};\nconst FORM_STORAGE_KEY = 'feedback-form-state';\npopulateTextarea();\n\nfunction onEmailInput(event) {\n  dataValues.email = event.target.value;\n  localStorage.setItem(FORM_STORAGE_KEY, JSON.stringify(dataValues));\n}\n\nfunction onTextareaInput(event) {\n  dataValues.message = event.target.value;\n  localStorage.setItem(FORM_STORAGE_KEY, JSON.stringify(dataValues));\n}\n\nfunction populateTextarea() {\n  const value = localStorage.getItem(FORM_STORAGE_KEY);\n  const valuesJSON = JSON.parse(value);\n  if (value) {\n    refs.email.value = valuesJSON.email;\n    dataValues.email = valuesJSON.email;\n    refs.message.value = valuesJSON.message;\n    dataValues.message = valuesJSON.message;\n  }\n}\n\nfunction onFormSubmit(event) {\n  console.log(dataValues);\n  event.preventDefault();\n  event.currentTarget.reset();\n  localStorage.removeItem(FORM_STORAGE_KEY);\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","email","message","addEventListener","event","console","log","$b00c40859be242c5$var$dataValues","preventDefault","currentTarget","reset","localStorage","removeItem","$b00c40859be242c5$var$FORM_STORAGE_KEY","$parcel$interopDefault","throttle","target","value","setItem","JSON","stringify","valuesJSON","getItem","parse"],"version":3,"file":"03-feedback.ec696182.js.map"}